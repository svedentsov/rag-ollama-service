package com.example.ragollama.rag.strategy;

import org.springframework.ai.document.Document;

import java.util.List;

/**
 * Определяет контракт для стратегий, отвечающих за переупорядочивание и/или
 * фильтрацию списка документов перед их сборкой в финальный контекст.
 * <p>Реализации этого интерфейса позволяют гибко управлять тем, в каком
 * порядке и какие именно документы будут представлены LLM, что является
 * ключевым фактором для повышения качества генерации. Это позволяет
 * применять такие техники, как "сэндвич" (reordering) или придавать
 * приоритет более свежим документам.
 */
@FunctionalInterface
public interface ContextArrangementStrategy {
    /**
     * Применяет стратегию к списку документов.
     *
     * @param documents Исходный список документов, как правило, отсортированный
     *                  по убыванию релевантности от этапа Retrieval/Reranking.
     * @return Новый, потенциально переупорядоченный и/или отфильтрованный
     * список документов.
     */
    List<Document> arrange(List<Document> documents);
}
