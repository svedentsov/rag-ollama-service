# Каталог AI-Агентов Платформы

Этот документ содержит исчерпывающее описание всех автономных AI-агентов и конвейеров, реализованных в платформе. Агенты
организованы в иерархию (от L5 до L2) в соответствии с их уровнем автономии, сложности и области ответственности.

## Иерархия Агентов

- **L5 (Executive Governors / Губернаторы):** Стратегические мета-агенты, оперирующие на уровне всего портфеля проектов.
  Они принимают бизнес-цели, анализируют сводные данные и формируют высокоуровневые роадмапы.
- **L4 (Orchestrators & Commanders / Оркестраторы):** Мета-агенты, отвечающие за решение одной сложной, многоэтапной
  задачи. Они декомпозируют цель, строят динамический план (DAG) из L2/L3-агентов и контролируют его выполнение.
- **L3 (Specialists / Специалисты):** Агенты, обладающие глубокой экспертизой в одной узкой области (например, анализ
  безопасности, оценка производительности). Они выполняют сложный анализ и генерируют отчеты или артефакты.
- **L2 (Tools / Инструменты):** Атомарные, детерминированные или AI-управляемые "инструменты", выполняющие одну простую,
  четко определенную функцию (например, получить diff из Git, создать тикет в Jira, распарсить код).

## L5: Executive Governors (Губернаторы)

| Агент / Конвейер                                                          | Назначение                                                                                                                                                                               |
|:--------------------------------------------------------------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **AI CTO / Strategic Initiative Planner** (`executive-governor-pipeline`) | Анализирует техническое здоровье и риски по **всем проектам** в портфеле. Формирует стратегический технический роадмап на квартал для устранения системных проблем.                      |
| **AI VP of Engineering** (`engineering-velocity-pipeline`)                | Анализирует метрики SDLC (DORA, Git, Jira) для оценки эффективности инженерных процессов. Выявляет "узкие места" (bottlenecks) и предлагает стратегические улучшения.                    |
| **AI CFO / ROI Analyst** (`financial-roi-analysis-pipeline`)              | Анализирует все виды затрат (инфраструктура, LLM, разработка) и сопоставляет их с ценностью реализованных фич. Рассчитывает ROI для инженерных инициатив и дает финансовые рекомендации. |
| **AI CPO / Product Portfolio Strategist** (`product-strategy-pipeline`)   | Синтезирует данные об обратной связи пользователей и анализе конкурентов для формирования высокоуровневой продуктовой стратегии и определения ключевых инициатив.                        |

## L4: Orchestrators & Commanders (Оркестраторы)

| Агент / Конвейер                                                     | Назначение                                                                                                                                                                              |
|:---------------------------------------------------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **QA Copilot** (`QaCopilotService`)                                  | Stateful-ассистент, управляющий интерактивным диалогом с пользователем. Сохраняет контекст, вызывает `WorkflowPlannerAgent` для выполнения задач и суммирует результаты.                |
| **Workflow Planner & Executor**                                      | Ядро динамической оркестрации. Принимает цель на естественном языке, строит граф выполнения (DAG) из L2/L3-агентов и выполняет его с учетом зависимостей и параллелизма.                |
| **Root Cause Analyzer** (`root-cause-analysis-pipeline`)             | Проводит комплексный анализ первопричины падений тестов, синтезируя данные из логов, diff'ов и отчетов о "flaky"-тестах.                                                                |
| **Incident Commander** (`incident-response-pipeline`)                | Реагирует на алерты мониторинга, проводит триаж инцидента и запускает план по сдерживанию (например, откат релиза).                                                                     |
| **Policy & Safety Governor** (`policy-and-safety-governor-pipeline`) | Выступает в роли автоматического Quality Gate. Оркестрирует запуск всех проверок на соответствие политикам (SAST, архитектура, приватность, лицензии) и агрегирует их в единый вердикт. |
| **Knowledge Consistency Guardian** (`knowledge-guardian-pipeline`)   | Проактивно сканирует базу знаний, сравнивая семантически близкие документы для выявления внутренних противоречий, и автоматически создает задачи на их исправление.                     |
| **Test DataOps Orchestrator** (`test-data-ops-pipeline`)             | Анализирует запрос на тестовые данные на естественном языке, выбирает подходящий L2/L3-агент-генератор и запускает его.                                                                 |
| **Prioritization Agent** (`prioritization-pipeline`)                 | "AI Tech Lead", который собирает все отчеты о здоровье проекта, анализирует их в контексте бизнес-цели и формирует приоритизированный бэклог.                                           |

## L3: Specialists (Специалисты)

| Категория              | Агент                             | Назначение                                                                                                         |
|:-----------------------|:----------------------------------|:-------------------------------------------------------------------------------------------------------------------|
| **Безопасность**       | `SastAgent`                       | Выполняет статический анализ безопасности (SAST) Java-кода на уязвимости OWASP Top 10.                             |
|                        | `AuthRiskDetectorAgent`           | Анализирует извлеченные правила RBAC на предмет рисков (нарушение принципа наименьших привилегий).                 |
|                        | `SecurityReportAggregatorAgent`   | "AI CISO", который агрегирует отчеты от всех сканеров безопасности в единый, приоритизированный вердикт.           |
| **Аналитика**          | `TestDebtAnalyzerAgent`           | Анализирует историю тестов для выявления "flaky" и медленных тестов, формируя отчет о техдолге.                    |
|                        | `KnowledgeGapClustererAgent`      | Анализирует запросы без ответа, кластеризует их и предлагает темы для новой документации.                          |
|                        | `PerformancePredictorAgent`       | Прогнозирует влияние изменений в коде на производительность (latency, CPU, memory).                                |
|                        | `CustomerImpactAnalyzerAgent`     | Анализирует diff кода и историю коммитов для оценки влияния на пользователей (UI, API, бизнес-логика).             |
|                        | `CodeQualityImpactEstimatorAgent` | Оценивает риск регрессии, анализируя статические метрики кода и историю дефектов.                                  |
|                        | `DefectEconomicsModelerAgent`     | Оценивает стоимость исправления и стоимость бездействия для дефекта или рискованного кода.                         |
| **UI/UX**              | `AccessibilityAuditorAgent`       | Оркестрирует аудит HTML на соответствие стандартам доступности (a11y).                                             |
|                        | `UxHeuristicsEvaluatorAgent`      | Оценивает HTML-код на соответствие 10 эвристикам юзабилити Якоба Нильсена.                                         |
|                        | `UserBehaviorSimulatorAgent`      | Автономно симулирует E2E-сценарий пользователя, управляя браузером через Playwright.                               |
| **Контракты**          | `DataContractEnforcerAgent`       | Сравнивает две версии Java DTO и выявляет ломающие изменения в контракте данных.                                   |
| **Генерация**          | `TestDesignerAgent`               | "Агент-строитель", генерирующий позитивный "happy path" тест-кейс из требований.                                   |
|                        | `AdversarialTesterAgent`          | "Агент-разрушитель", генерирующий негативные и граничные тесты для сценариев, упущенных `TestDesignerAgent`.       |
|                        | `AuthTestBuilderAgent`            | Генерирует код API-тестов для проверки правил RBAC.                                                                |
|                        | `FuzzingTestGeneratorAgent`       | Генерирует код fuzzing-теста для симуляции IDOR-атаки на основе персон и правил RBAC.                              |
|                        | `SelfImprovingTestDesignerAgent`  | Генерирует unit-тесты, обучаясь на существующих примерах из кодовой базы проекта.                                  |
| **Объяснимость (XAI)** | `ExplainerAgent`                  | "Агент-объяснитель", который переводит технический отчет от другого агента на естественный язык.                   |
|                        | `TestMentorAgent`                 | Проводит детальное код-ревью автотеста на соответствие требованиям и лучшим практикам.                             |
|                        | `XaiTestOracleAgent`              | "Тестовый оракул", который строит матрицу трассируемости между тестами и требованиями, выявляя пробелы в покрытии. |
| **Оптимизация**        | `RagOptimizerAgent`               | "AI MLOps Engineer", который анализирует производительность RAG-системы и предлагает улучшения конфигурации.       |
|                        | `ErrorHandlerAgent`               | "AI SRE", который диагностирует сбои других агентов и пытается их автоматически исправить.                         |

## L2: Tools (Инструменты и Сборщики)

| Категория                      | Агент                       | Назначение                                                                     | Требует Утверждения? |
|:-------------------------------|:----------------------------|:-------------------------------------------------------------------------------|:---------------------|
| **Взаимодействие с Системами** | `GitInspectorAgent`         | Извлекает из Git список измененных файлов, diff'ы, коммиты.                    | Нет                  |
|                                | `WebCrawlerAgent`           | Извлекает текстовый контент с веб-страницы по URL.                             | Нет                  |
|                                | `JiraTicketCreatorAgent`    | Создает тикет в Jira.                                                          | **Да**               |
|                                | `JiraFetcherAgent`          | Получает детали тикета из Jira по его ID.                                      | Нет                  |
|                                | `CiTriggerAgent`            | Запускает задачу в CI/CD системе.                                              | **Да**               |
|                                | `DeploymentRollbackAgent`   | Запускает CI/CD задачу для отката релиза.                                      | **Да**               |
| **Анализ Кода**                | `CodeParserAgent`           | Выполняет AST-анализ Java-кода для извлечения его структуры.                   | Нет                  |
|                                | `RbacExtractorAgent`        | Извлекает правила RBAC из аннотаций Spring Security.                           | Нет                  |
|                                | `StaticCodeAnalyzerService` | Вычисляет детерминированные метрики кода (цикломатическая сложность).          | Нет                  |
| **Анализ Данных**              | `TestMetricsCollectorAgent` | Парсит JUnit XML отчеты и сохраняет метрики в БД.                              | Нет                  |
|                                | `FlakinessTrackerAgent`     | Анализирует историю прогонов для выявления flaky-тестов.                       | Нет                  |
|                                | `CiCdMetricsFetcherAgent`   | *[Mock]* Собирает DORA метрики из CI/CD.                                       | Нет                  |
|                                | `GitMetricsFetcherAgent`    | *[Mock]* Собирает метрики по Pull Request'ам.                                  | Нет                  |
|                                | `JiraMetricsFetcherAgent`   | *[Mock]* Собирает метрики жизненного цикла задач из Jira.                      | Нет                  |
|                                | `CloudCostFetcherAgent`     | *[Mock]* Собирает данные о затратах на облачную инфраструктуру.                | Нет                  |
| **Генерация**                  | `PersonaGeneratorAgent`     | Генерирует "атакующие персоны" на основе правил RBAC для fuzzing-тестов.       | Нет                  |
|                                | `SyntheticDataBuilderAgent` | Генерирует моковые JSON-объекты на основе определения Java-класса.             | Нет                  |
|                                | `DataSubsetMaskerAgent`     | Генерирует SQL для создания подмножества данных из БД и маскирует PII.         | **Да**               |
| **Оптимизация RAG**            | `QueryProfilerAgent`        | Определяет семантический профиль запроса для выбора оптимальной RAG-стратегии. | Нет                  |
|                                | `KnowledgeRouterAgent`      | Выбирает наиболее релевантный "домен знаний" для поиска ответа.                | Нет                  |
|                                | `ReflectiveRetrieverAgent`  | Реализует самокорректирующийся поиск, переформулируя запрос при необходимости. | Нет                  |
|                                | `DocumentEnhancerAgent`     | Обогащает документы в базе знаний метаданными (summary, keywords).             | Нет                  |
| **Инфраструктура**             | `HumanInTheLoopGateAgent`   | Приостанавливает выполнение конвейера для ожидания утверждения от человека.    | **Да**               |
