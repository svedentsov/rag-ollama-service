# AIエージェントプラットフォーム：エージェントカタログ

本文書は、プラットフォームに実装されている全ての自律型AIエージェントおよびパイプラインに関する完全な説明を提供します。エージェントは、その自律性、複雑さ、責任範囲に応じて階層（L5からL2）に整理されています。

## エージェント階層

- **L5 (Executive Governors / ガバナー):** プロジェクトポートフォリオ全体レベルで活動する戦略的メタエージェント。ビジネス目標を受け取り、集約データを分析し、高レベルのロードマップを策定します。
- **L4 (Orchestrators & Commanders / オーケストレーター):**
  単一の複雑で多段階のタスク解決を担当するメタエージェント。目標を分解し、L2/L3エージェントから動的な実行計画（DAG）を構築し、その実行を監督します。
- **L3 (Specialists / スペシャリスト):** 特定の狭い領域（例：セキュリティ分析、パフォーマンス評価）に深い専門知識を持つエージェント。複雑な分析を実行し、レポートや成果物を生成します。
- **L2 (Tools / ツール):** 単純で明確に定義された一つの機能を実行する、アトミックな決定論的またはAI駆動の「ツール」（例：Gitからdiffを取得する、Jiraにチケットを作成する、コードを解析する）。

## L5: Executive Governors (ガバナー)

これらのエージェントは「仮想Cレベルマネージャー」として機能し、エンジニアリング部門全体にわたる戦略的なインサイトを提供します。

| エージェント / パイプライン                                                           | 目的                                                                                  |
|:--------------------------------------------------------------------------|:------------------------------------------------------------------------------------|
| **AI CTO / Strategic Initiative Planner** (`executive-governor-pipeline`) | ポートフォリオ内の**全プロジェクト**にわたる技術的健全性とリスクを分析します。体系的な問題を解決するため、次四半期の戦略的技術ロードマップを策定します。      |
| **AI VP of Engineering** (`engineering-velocity-pipeline`)                | SDLCメトリクス（DORA, Git, Jira）を分析してエンジニアリングプロセスの効率を評価します。ボトルネックを特定し、戦略的な改善を提案します。       |
| **AI CFO / ROI Analyst** (`financial-roi-analysis-pipeline`)              | あらゆる種類のコスト（インフラ、LLM、開発）を分析し、それらを実装済み機能の価値と関連付けます。エンジニアリング施策のROIを計算し、財務上の推奨事項を提供します。 |
| **AI CPO / Product Portfolio Strategist** (`product-strategy-pipeline`)   | ユーザーフィードバックと競合分析のデータを統合し、高レベルの製品戦略を策定し、主要なイニシアチブを定義します。                             |

## L4: Orchestrators & Commanders (オーケストレーター)

これらのエージェントはシステムの「頭脳」であり、複数のツールの連携を必要とする複雑なタスクを解決することができます。

| エージェント / パイプライン                                                      | 目的                                                                                                |
|:---------------------------------------------------------------------|:--------------------------------------------------------------------------------------------------|
| **QA Copilot** (`QaCopilotService`)                                  | ユーザーとの対話型ダイアログを管理するステートフルなアシスタント。メッセージ間のコンテキストを維持し、`WorkflowPlannerAgent`を呼び出してタスクを実行し、結果を要約します。  |
| **Workflow Planner & Executor**                                      | 動的オーケストレーションの中核。自然言語で目標を受け取り、L2/L3エージェントから実行グラフ（DAG）を構築し、依存関係を考慮して並列実行します。                        |
| **Root Cause Analyzer** (`root-cause-analysis-pipeline`)             | ログ、コードのdiff、「flaky」テストのレポートからデータを統合し、テスト失敗の根本原因を包括的に分析して結論を出します。                                  |
| **Incident Commander** (`incident-response-pipeline`)                | 監視システムからのアラートに対応します。最近の変更とログを分析してインシデントをトリアージし、封じ込め計画（例：リリースロールバック）を開始します。                        |
| **Policy & Safety Governor** (`policy-and-safety-governor-pipeline`) | 自動化された品質ゲートとして機能します。すべてのポリシーコンプライアンスチェック（SAST、アーキテクチャ、プライバシー、ライセンス）の実行をオーケストレートし、それらを単一の判定に集約します。 |
| **Knowledge Consistency Guardian** (`knowledge-guardian-pipeline`)   | プロアクティブに（スケジュールに基づいて）ナレッジベースをスキャンし、意味的に類似したドキュメントを比較して内部矛盾を検出し、その修正のためのタスクを自動的に作成します。             |
| **Test DataOps Orchestrator** (`test-data-ops-pipeline`)             | テストデータに関する自然言語のリクエストを分析し、適切なL2/L3ジェネレーターエージェントを選択して実行します。                                         |
| **Prioritization Agent** (`prioritization-pipeline`)                 | 「AIテックリード」として、プロジェクトの健全性に関するすべてのレポートを収集し、ビジネス目標の文脈でそれらを分析し、優先順位付けされたバックログを生成します。                  |

## L3: Specialists (スペシャリスト)

これらのエージェントは、それぞれの専門分野で詳細な分析を行い、構造化されたレポートを生成します。

| カテゴリ            | エージェント                            | 目的                                                                    |
|:----------------|:----------------------------------|:----------------------------------------------------------------------|
| **セキュリティ**      | `SastAgent`                       | OWASPトップ10の脆弱性リストに基づき、Javaコードの静的アプリケーションセキュリティテスト（SAST）を実行します。        |
|                 | `AuthRiskDetectorAgent`           | 抽出されたRBACルールを分析し、潜在的なリスク（最小権限の原則違反など）を特定します。                          |
|                 | `SecurityReportAggregatorAgent`   | 「AI CISO」として、すべてのセキュリティスキャナからのレポートを集約し、優先順位付けされた単一の判定を下します。           |
| **アナリティクス**     | `TestDebtAnalyzerAgent`           | テスト実行履歴を分析して「flaky」（不安定な）テストや遅いテストを特定し、テスト関連の技術的負債に関する包括的なレポートを作成します。 |
|                 | `KnowledgeGapClustererAgent`      | 回答が見つからなかったユーザーのクエリを分析し、トピックごとにクラスタリングして、新しいナレッジベース記事のタイトルを提案します。     |
|                 | `PerformancePredictorAgent`       | コードの変更（複雑さ、不具合履歴、パターン）を分析し、システムのパフォーマンス（レイテンシ、CPU、メモリ）への潜在的な影響を予測します。 |
|                 | `CustomerImpactAnalyzerAgent`     | コードのdiffとコミット履歴を分析し、エンドユーザー（UI、API、ビジネスロジック）への影響を評価します。               |
|                 | `CodeQualityImpactEstimatorAgent` | 静的コードメトリクスと過去の不具合データを分析して、リグレッションリスクを評価します。                           |
|                 | `DefectEconomicsModelerAgent`     | 不具合やリスクのあるコードの修正コストと、何もしなかった場合のコスト（cost of inaction）を推定します。           |
| **UI/UX**       | `AccessibilityAuditorAgent`       | アクセシビリティ（a11y）基準への準拠について、HTMLの監査をオーケストレートします。                         |
|                 | `UxHeuristicsEvaluatorAgent`      | ヤコブ・ニールセンの10のユーザビリティヒューリスティクスに基づいてHTMLコードを評価し、推奨事項を含むレポートを生成します。      |
|                 | `UserBehaviorSimulatorAgent`      | Playwrightを介してブラウザを制御し、E2Eユーザーシナリオを自律的にシミュレートします。                     |
| **コントラクト**      | `DataContractEnforcerAgent`       | 2つのバージョンのJava DTOを比較し、データコントラクトにおける破壊的変更を特定します。                       |
| **生成**          | `TestDesignerAgent`               | 「ビルダーエージェント」として、要件に基づいてポジティブな「ハッピーパス」のテストケースを生成します。                   |
|                 | `AdversarialTesterAgent`          | 「ブレイカーエージェント」として、既存のテストと要件を分析し、見逃されたシナリオに対するネガティブテストや境界値テストを生成します。    |
|                 | `AuthTestBuilderAgent`            | RBACルールを検証するためのAPIテストコードを生成します。                                       |
|                 | `FuzzingTestGeneratorAgent`       | ペルソナとRBACルールに基づいて、IDOR攻撃をシミュレートするファジングテストのコードを生成します。                  |
|                 | `SelfImprovingTestDesignerAgent`  | プロジェクトのコードベースにある既存の例から学習し、ユニットテストを生成します。                              |
| **説明可能性 (XAI)** | `ExplainerAgent`                  | 「説明エージェント」として、他のエージェントからの技術的なレポートをユーザーの質問に応じて自然言語に翻訳します。              |
|                 | `TestMentorAgent`                 | AIメンターとして、自動テストのコードが要件とベストプラクティスに準拠しているか詳細なコードレビューを提供します。             |
|                 | `XaiTestOracleAgent`              | 「テストオラクル」として、テストと要件間のトレーサビリティマトリクスを構築し、カバレッジのギャップを特定します。              |
| **最適化**         | `RagOptimizerAgent`               | 「AI MLOpsエンジニア」として、RAGシステムのパフォーマンスを分析し、設定の改善を提案します。                   |
|                 | `ErrorHandlerAgent`               | 「AI SRE」として、他のエージェントの障害を診断し、自動修復を試みます。                                |

## L2: Tools (ツール & データ取得)

これらは、特定の明確に定義されたタスクを一つだけ実行するアトミックなエージェントです。これらは高レベルエージェントのための「構成要素」として機能します。

| カテゴリ       | エージェント                      | 目的                                               | 承認が必要か？ |
|:-----------|:----------------------------|:-------------------------------------------------|:--------|
| **システム連携** | `GitInspectorAgent`         | Gitリポジトリから、2つの参照間の変更ファイルリスト、diff、コミットを取得します。     | いいえ     |
|            | `WebCrawlerAgent`           | URLを指定してウェブページのテキストコンテンツを抽出・クリーンアップします。          | いいえ     |
|            | `JiraTicketCreatorAgent`    | 指定されたパラメータでJiraにチケットを作成します。                      | **はい**  |
|            | `JiraFetcherAgent`          | IDに基づいてJiraからチケットの詳細を取得します。                      | いいえ     |
|            | `CiTriggerAgent`            | CI/CDシステム（例：Jenkins）でジョブをトリガーします。                | **はい**  |
|            | `DeploymentRollbackAgent`   | リリースをロールバックするための特別なCI/CDジョブをトリガーします。             | **はい**  |
| **コード解析**  | `CodeParserAgent`           | Javaファイルの抽象構文木（AST）解析を実行して、その構造（メソッド、クラス）を抽出します。 | いいえ     |
|            | `RbacExtractorAgent`        | JavaコードのSpring SecurityアノテーションからRBACルールを抽出します。   | いいえ     |
|            | `StaticCodeAnalyzerService` | コードメトリクス（例：サイクロマティック複雑度）を決定論的に計算します。             | いいえ     |
| **データ分析**  | `TestMetricsCollectorAgent` | JUnit XMLレポートを解析し、集計したメトリクスをDBに保存します。            | いいえ     |
|            | `FlakinessTrackerAgent`     | flakyテストを特定するために実行履歴を分析します。                      | いいえ     |
|            | `CiCdMetricsFetcherAgent`   | *[Mock]* CI/CDからDORAメトリクスを収集します。                 | いいえ     |
|            | `GitMetricsFetcherAgent`    | *[Mock]* Gitからプルリクエストに関するメトリクスを収集します。            | いいえ     |
|            | `JiraMetricsFetcherAgent`   | *[Mock]* Jiraから課題のライフサイクルメトリクスを収集します。            | いいえ     |
|            | `CloudCostFetcherAgent`     | *[Mock]* クラウドインフラのコストデータを収集します。                  | いいえ     |
| **生成**     | `PersonaGeneratorAgent`     | ファジングテストのために、RBACルールに基づいて「攻撃者ペルソナ」を生成します。        | いいえ     |
|            | `SyntheticDataBuilderAgent` | Javaクラス定義に基づいてモックJSONオブジェクトを生成します。               | いいえ     |
|            | `DataSubsetMaskerAgent`     | DBからデータサブセットを作成するためのSQLを生成し、PIIをマスクします。          | **はい**  |
| **RAG最適化** | `QueryProfilerAgent`        | 最適なRAG戦略を選択するためにクエリのセマンティックプロファイルを決定します。         | いいえ     |
|            | `KnowledgeRouterAgent`      | 回答を検索するために最も関連性の高い「知識ドメイン」を選択します。                | いいえ     |
|            | `ReflectiveRetrieverAgent`  | 必要に応じてクエリを再構成する自己修正型検索ループを実装します。                 | いいえ     |
|            | `DocumentEnhancerAgent`     | ナレッジベースのドキュメントにメタデータ（要約、キーワード）を追加して拡充します。        | いいえ     |
| **インフラ**   | `HumanInTheLoopGateAgent`   | 人間の承認を待つためにパイプラインの実行を一時停止します。                    | **はい**  |
